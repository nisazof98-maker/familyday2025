<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Family Day Invitation</title>
<style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Arial', sans-serif; }
    body, html { width:100%; height:100%; overflow:hidden; background:#1c1c1c; color:#fff; position:relative; }

    /* Canvas for dynamic shapes */
    canvas { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

    .container {
        position:relative;
        z-index:2;
        height:100vh;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        text-align:center;
    }

    h1 { font-size:3em; margin-bottom:20px; }
    .countdown { font-size:2em; margin-bottom:30px; }

    .vinyl {
        width:150px; height:150px;
        border-radius:50%;
        background: radial-gradient(circle at 50% 50%, #000 0%, #111 70%, #222 100%);
        border:3px solid #555;
        margin-bottom:30px;
        animation: spin 4s linear infinite;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    .rsvp-btn {
        padding:15px 30px;
        background:#ff6f61;
        border:none;
        border-radius:10px;
        color:#fff;
        font-size:1.2em;
        cursor:pointer;
        position:relative;
        overflow:hidden;
    }
    .rsvp-btn:active { transform:scale(0.95); }

    .confetti-piece {
        position:absolute;
        width:10px; height:10px;
        opacity:0.8;
        pointer-events:none;
        animation: confetti-fall 2s linear forwards;
    }
    @keyframes confetti-fall {
        0% { transform: translateY(0) rotate(0deg); opacity:1; }
        100% { transform: translateY(300px) rotate(720deg); opacity:0; }
    }

    .music-btn {
        margin-top:20px;
        padding:10px 20px;
        border:none;
        border-radius:50px;
        background:#6a5acd;
        color:#fff;
        cursor:pointer;
        font-size:1em;
    }
    .music-btn.playing { animation: pulse 1s infinite; }
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<div class="container">
    <h1>Family Day 2025</h1>
    <div class="countdown" id="countdown">Loading...</div>
    <div class="vinyl"></div>
    <button class="rsvp-btn" id="rsvpBtn">Hadir</button>
    <button class="music-btn" id="musicBtn">Play Music</button>
</div>

<audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>
    // Countdown
    function countdownTimer() {
        const countdownEl = document.getElementById('countdown');
        const targetDate = new Date('2025-09-13T15:00:00+08:00');
        const now = new Date();
        const diff = targetDate - now;
        if(diff <= 0){ countdownEl.innerHTML = "Event Started!"; return; }
        const hours = Math.floor(diff/1000/60/60);
        const minutes = Math.floor(diff/1000/60)%60;
        const seconds = Math.floor(diff/1000)%60;
        countdownEl.innerHTML = `${hours}h ${minutes}m ${seconds}s`;
    }
    setInterval(countdownTimer, 1000);
    countdownTimer();

    // RSVP Confetti
    const rsvpBtn = document.getElementById('rsvpBtn');
    rsvpBtn.addEventListener('click', () => {
        for(let i=0;i<50;i++){
            const confetti = document.createElement('div');
            confetti.classList.add('confetti-piece');
            confetti.style.left = Math.random()*rsvpBtn.offsetWidth + 'px';
            confetti.style.background = `hsl(${Math.random()*360}, 100%, 70%)`;
            rsvpBtn.appendChild(confetti);
            setTimeout(() => confetti.remove(), 2000);
        }
    });

    // Music Button
    const musicBtn = document.getElementById('musicBtn');
    const bgMusic = document.getElementById('bgMusic');
    musicBtn.addEventListener('click', () => {
        if(bgMusic.paused){
            bgMusic.play(); musicBtn.classList.add('playing'); musicBtn.innerText = "Pause Music";
        } else {
            bgMusic.pause(); musicBtn.classList.remove('playing'); musicBtn.innerText = "Play Music";
        }
    });

    // Dynamic Background Shapes
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const shapes = [];
    const shapeCount = 50;

    class Shape {
        constructor() {
            this.reset();
        }
        reset() {
            this.x = Math.random()*canvas.width;
            this.y = Math.random()*canvas.height;
            this.size = 20 + Math.random()*30;
            this.speedX = -0.5 + Math.random();
            this.speedY = -0.2 + Math.random()*0.4;
            this.color = `hsla(${Math.random()*360}, 70%, 50%, 0.1)`;
        }
        draw() {
            ctx.beginPath();
            ctx.moveTo(this.x, this.y);
            for(let i=0;i<3;i++){
                ctx.lineTo(this.x + this.size*Math.cos((i*120)*Math.PI/180), this.y + this.size*Math.sin((i*120)*Math.PI/180));
            }
            ctx.closePath();
            ctx.fillStyle = this.color;
            ctx.fill();
        }
        update() {
            this.x += this.speedX;
            this.y += this.speedY;
            if(this.x < -50 || this.x>canvas.width+50 || this.y<-50 || this.y>canvas.height+50){
                this.reset();
            }
            this.draw();
        }
    }

    for(let i=0;i<shapeCount;i++){ shapes.push(new Shape()); }

    function animate() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        shapes.forEach(s=>s.update());
        requestAnimationFrame(animate);
    }
    animate();

    window.addEventListener('resize', ()=>{
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });

</script>
</body>
</html>
